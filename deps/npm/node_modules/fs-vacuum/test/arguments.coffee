test = require("tap").test
vacuum = require("../vacuum.js")
test "vacuum throws on missing parameters", (t) ->
  t.throws vacuum, "called with no parameters"
  t.throws (->
    vacuum "directory", {}
    return
  ), "called with no callback"
  t.end()
  return

test "vacuum throws on incorrect types (\"Forrest is pedantic\" section)", (t) ->
  t.throws (->
    vacuum {}, {}, ->

    return
  ), "called with path parameter of incorrect type"
  t.throws (->
    vacuum "directory", "directory", ->

    return
  ), "called with options of wrong type"
  t.throws (->
    vacuum "directory", {}, "whoops"
    return
  ), "called with callback that isn't callable"
  t.end()
  return

