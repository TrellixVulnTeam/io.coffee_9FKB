test = require("tap").test
v = require("../npm-user-validate.js").username
test "username must be lowercase", (t) ->
  err = v("ERRR")
  t.type err, "object"
  t.end()
  return

test "username may not contain non-url-safe chars", (t) ->
  err = v("f  ")
  t.type err, "object"
  t.end()
  return

test "username may not start with \".\"", (t) ->
  err = v(".username")
  t.type err, "object"
  t.end()
  return

test "username is ok", (t) ->
  err = v("ente")
  t.type err, "null"
  t.end()
  return

