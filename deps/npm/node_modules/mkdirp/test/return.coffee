mkdirp = require("../")
path = require("path")
fs = require("fs")
test = require("tap").test
test "return value", (t) ->
  t.plan 4
  x = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  y = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  z = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  file = "/tmp/" + [
    x
    y
    z
  ].join("/")
  
  # should return the first dir created.
  # By this point, it would be profoundly surprising if /tmp didn't
  # already exist, since every other test makes things in there.
  mkdirp file, (err, made) ->
    t.ifError err
    t.equal made, "/tmp/" + x
    mkdirp file, (err, made) ->
      t.ifError err
      t.equal made, null
      return

    return

  return

