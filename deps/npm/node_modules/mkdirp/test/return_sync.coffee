mkdirp = require("../")
path = require("path")
fs = require("fs")
test = require("tap").test
test "return value", (t) ->
  t.plan 2
  x = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  y = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  z = Math.floor(Math.random() * Math.pow(16, 4)).toString(16)
  file = "/tmp/" + [
    x
    y
    z
  ].join("/")
  
  # should return the first dir created.
  # By this point, it would be profoundly surprising if /tmp didn't
  # already exist, since every other test makes things in there.
  # Note that this will throw on failure, which will fail the test.
  made = mkdirp.sync(file)
  t.equal made, "/tmp/" + x
  
  # making the same file again should have no effect.
  made = mkdirp.sync(file)
  t.equal made, null
  return

