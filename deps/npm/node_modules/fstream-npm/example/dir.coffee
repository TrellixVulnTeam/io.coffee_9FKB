# this will show what ends up in the fstream-npm package
f = (entry) ->
  entry.basename isnt ".git"
P = require("../")
DW = require("fstream").DirWriter
target = new DW(
  Directory: true
  type: "Directory"
  path: __dirname + "/output"
)
P(
  path: "./"
  type: "Directory"
  isDirectory: true
  filter: f
).on("package", (p) ->
  console.error "package", p
  return
).on("ignoreFile", (e) ->
  console.error "ignoreFile", e
  return
).on("entry", (e) ->
  console.error e.constructor.name, e.path
  return
).pipe(target).on "end", ->
  console.error "ended"
  return

