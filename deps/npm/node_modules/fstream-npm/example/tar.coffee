# this will show what ends up in the fstream-npm package
f = ->
  true
P = require("../")
tar = require("tar")

# function f (entry) {
#   return entry.basename !== ".git"
# }
new P(
  path: "./"
  type: "Directory"
  isDirectory: true
  filter: f
).on("package", (p) ->
  console.error "package", p
  return
).on("ignoreFile", (e) ->
  console.error "ignoreFile", e
  return
).on("entry", (e) ->
  console.error e.constructor.name, e.path
  return
).on("end", ->
  console.error "ended"
  return
).pipe(tar.Pack()).pipe process.stdout
