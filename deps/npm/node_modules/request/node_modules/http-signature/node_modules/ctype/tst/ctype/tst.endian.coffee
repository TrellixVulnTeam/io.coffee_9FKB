#
# * Simple test to make sure that the endian setting works.
# 
test = ->
  parser = undefined
  buf = undefined
  parser = new mod_ctype.Parser(endian: "little")
  buf = new Buffer(2)
  parser.writeData [key:
    type: "uint16_t"
  ], buf, 0, [0x1234]
  mod_assert.equal buf[0], 0x34
  mod_assert.equal buf[1], 0x12
  parser.setEndian "big"
  parser.writeData [key:
    type: "uint16_t"
  ], buf, 0, [0x1234]
  mod_assert.equal buf[0], 0x12
  mod_assert.equal buf[1], 0x34
  parser.setEndian "little"
  parser.writeData [key:
    type: "uint16_t"
  ], buf, 0, [0x1234]
  mod_assert.equal buf[0], 0x34
  mod_assert.equal buf[1], 0x12
  return
fail = ->
  parser = undefined
  parser = new mod_ctype.Parser(endian: "little")
  mod_assert.throws ->
    parser.setEndian "littlebigwrong"
    return

  return
mod_ctype = require("../../ctype.js")
mod_assert = require("assert")
test()
fail()
