#
# * A long overdue test to go through and verify that we can read and write
# * structures as well as nested structures.
# 
test = ->
  parser = undefined
  buf = undefined
  data = undefined
  parser = new mod_ctype.Parser(endian: "little")
  parser.typedef "point_t", [
    {
      x:
        type: "uint8_t"
    }
    {
      y:
        type: "uint8_t"
    }
  ]
  buf = new Buffer(2)
  data = [point:
    type: "point_t"
  ]
  parser.writeData data, buf, 0, [[
    23
    42
  ]]
  mod_assert.ok buf[0] is 23
  mod_assert.ok buf[1] is 42
  return
mod_ctype = require("../../ctype.js")
mod_assert = require("assert")
test()
