module.exports =
  name: basename.replace(/^node-/, "")
  version: "0.0.0"
  description: ((cb) ->
    fs = require("fs")
    value = undefined
    try
      src = fs.readFileSync("README.markdown", "utf8")
      value = src.split("\n").filter((line) ->
        /\s+/.test(line) and line.trim() isnt basename.replace(/^node-/, "")
      )[0].trim().replace(/^./, (c) ->
        c.toLowerCase()
      ).replace(/\.$/, "")
    prompt "description", value
  )()
  main: prompt("entry point", "index.js")
  bin: (cb) ->
    path = require("path")
    fs = require("fs")
    exists = fs.exists or path.exists
    exists "bin/cmd.js", (ex) ->
      bin = undefined
      if ex
        bin = {}
        bin[basename.replace(/^node-/, "")] = "bin/cmd.js"
      cb null, bin
      return

    return

  directories:
    example: "example"
    test: "test"

  dependencies: {}
  devDependencies:
    tap: "~0.2.5"

  scripts:
    test: "tap test/*.js"

  repository:
    type: "git"
    url: "git://github.com/substack/" + basename + ".git"

  homepage: "https://github.com/substack/" + basename
  keywords: prompt((s) ->
    s.split /\s+/
  )
  author:
    name: "James Halliday"
    email: "mail@substack.net"
    url: "http://substack.net"

  license: "MIT"
  engine:
    node: ">=0.6"
