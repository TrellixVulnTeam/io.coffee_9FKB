makeTypoWarning = (providedName, probableName, field) ->
  if field
    providedName = field + "['" + providedName + "']"
    probableName = field + "['" + probableName + "']"
  util.format messages.typo, providedName, probableName
util = require("util")
messages = require("./warning_messages.json")
module.exports = ->
  args = Array::slice.call(arguments, 0)
  warningName = args.shift()
  if warningName is "typo"
    makeTypoWarning.apply null, args
  else
    msgTemplate = (if messages[warningName] then messages[warningName] else warningName + ": '%s'")
    args.unshift msgTemplate
    util.format.apply null, args
