test = require("tap").test
fs = require("../fs.js")
readdir = fs.readdir
fs.readdir = (path, cb) ->
  process.nextTick ->
    cb null, [
      "b"
      "z"
      "a"
    ]
    return

  return

g = require("../")
test "readdir reorder", (t) ->
  g.readdir "whatevers", (er, files) ->
    throw er  if er
    t.same files, [
      "a"
      "b"
      "z"
    ]
    t.end()
    return

  return

