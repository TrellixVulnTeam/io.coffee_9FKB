tap = require("tap")
test = tap.test
test "amd", (t) ->
  define = (stuff) ->
    defined = stuff
    return
  global.define = define
  define.amd = true
  defined = null
  fromRequire = require("../")
  t.ok defined, "amd function called"
  t.equal fromRequire, defined, "amd stuff same as require stuff"
  t.end()
  return

