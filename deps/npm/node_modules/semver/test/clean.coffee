tap = require("tap")
test = tap.test
semver = require("../semver.js")
clean = semver.clean
test "\nclean tests", (t) ->
  
  # [range, version]
  # Version should be detectable despite extra characters
  [
    [
      "1.2.3"
      "1.2.3"
    ]
    [
      " 1.2.3 "
      "1.2.3"
    ]
    [
      " 1.2.3-4 "
      "1.2.3-4"
    ]
    [
      " 1.2.3-pre "
      "1.2.3-pre"
    ]
    [
      "  =v1.2.3   "
      "1.2.3"
    ]
    [
      "v1.2.3"
      "1.2.3"
    ]
    [
      " v1.2.3 "
      "1.2.3"
    ]
    [
      "\t1.2.3"
      "1.2.3"
    ]
    [
      ">1.2.3"
      null
    ]
    [
      "~1.2.3"
      null
    ]
    [
      "<=1.2.3"
      null
    ]
    [
      "1.2.x"
      null
    ]
  ].forEach (tuple) ->
    range = tuple[0]
    version = tuple[1]
    msg = "clean(" + range + ") = " + version
    t.equal clean(range), version, msg
    return

  t.end()
  return

